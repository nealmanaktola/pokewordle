.tile {
  /* Dynamic sizing based on word length - max 500px board width */
  --tile-size: min(58px, calc((500px - (var(--word-length, 5) - 1) * 5px) / var(--word-length, 5)));
  width: var(--tile-size);
  height: var(--tile-size);
  perspective: 1000px;
}

.tile-inner {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
}

/* Only animate when revealing */
.tile.revealing .tile-inner {
  transition: transform 0.5s;
  transition-delay: calc(var(--tile-index, 0) * 0.2s);
}

.tile-front,
.tile-back {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Dynamic font size based on tile size */
  font-size: clamp(0.8rem, calc(var(--tile-size, 58px) * 0.5), 2rem);
  font-weight: bold;
  text-transform: uppercase;
  backface-visibility: hidden;
  border: 2px solid var(--border-empty);
  box-sizing: border-box;
}

.tile-front {
  background-color: var(--bg);
  color: var(--text);
}

.tile-back {
  transform: rotateX(180deg);
  color: white;
}

/* States */
.tile.filled .tile-front {
  border-color: var(--border-filled);
}

/* Keep flipped when revealed */
.tile.flip .tile-inner {
  transform: rotateX(180deg);
}

.tile.correct .tile-back {
  background-color: var(--correct);
  border-color: var(--correct);
}

.tile.present .tile-back {
  background-color: var(--present);
  border-color: var(--present);
}

.tile.absent .tile-back {
  background-color: var(--absent);
  border-color: var(--absent);
}

/* Pop animation when typing */
.tile.pop .tile-inner {
  animation: pop 0.1s ease-in-out;
}

@keyframes pop {
  50% {
    transform: scale(1.1);
  }
}

/* Responsive */
@media (max-width: 480px) {
  .tile {
    --tile-size: calc((100vw - 40px - (var(--word-length, 5) - 1) * 5px) / var(--word-length, 5));
    width: var(--tile-size);
    height: var(--tile-size);
  }
}
